

# 第一章 简介

## 并发简史

* 进程：独立的资源，包括内存、文件句柄、安全证书
* 线程：同一个进程内共享资源，包括内存，文件句柄，但每个线程都有各自的程序计数器、栈、局部变量
* 由于同一个进程中的所有线程都将共享进程的内存，因此这些线程都能访问相同的变量并在同一个堆上分配对象，这就需要实现一种比在进程间共享数据粒度更细的数据共享机制

## 线程的优势

* 发挥多核处理器能力
* 建模的简单性
* 异步事件的简化过程
* 响应更灵敏的用户界面

## 线程带来的风险

* 安全性
	* 读-操作-写（非原子性）
	* 多线程中的操作执行顺序是不可预测的
	* 多个线程同时访问和修改相同变量时，在串行模型中引入非串行因素

* 活跃性
	* 安全性：永远不发生糟糕的事
	* 活跃性：某件正确的事情最终会发生，但不够好
		* 串行程序：死循环后的代码不会被执行
		* 并发程序：死锁、饥饿、活锁
* 性能问题
	* 调度器临时挂起一个活跃的线程并执行另一线程时，会是线程间上下文切换，当并发量大时，这种频繁切换上下文会带来极大的开销
